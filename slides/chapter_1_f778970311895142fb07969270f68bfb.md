---
title: Insert title here
key: f778970311895142fb07969270f68bfb

---
## Q9: How do you calculate needed sample size?

```yaml
type: "TitleSlide"
key: "c8e4861b47"
```

`@lower_third`

name: Conor Dewey
title: Data Scientist


`@script`
In the last lesson, we addressed analyzing results of an A/B test and deciding whether or not to ship the experiment. 

Now we'll take things a step further by looking at another popular interview question: How do you calculate needed sample size for an experiment?

Interviewers love this question since it hits on a number of fundamental statistical concepts that come up quite often in practice, all wrapped up into one question.


---
## Setting the Scene

```yaml
type: "FullSlide"
key: "09d1b0c7bf"
```

`@part1`
* In other words: how many samples are needed per treatment?
   * Advised that you decide on a sample size prior to the experiment
   * No good general guidance when it comes to sample size


`@script`
If you run an experiment, how do you decide how long it should run or in our terms: how many samples are needed per treatment?

It’s normally advised that you decide on a sample size in advance and wait until the experiment is over before ‘peeking’ at results. 

Despite what you may read in many guides to A/B testing, there is no good general guidance — it depends, mainly, on the frequency with which the desired goal is attained.


---
## Moving Parts

```yaml
type: "FullSlide"
key: "2a28ffdaae"
```

`@part1`
* **Sample size**
   * Number of observations needed per treatment
* **Effect size**
   * Minimum size of the effect that you want to detect
* **Significance level**
   * Statistical significance level at which the test will be conducted
* **Power**
   * Probability of detecting a specified effect size


`@script`
At a high-level, there are four moving parts when it comes to calculating required sample size: sample size, minimum effect size, significance level, and power.

Specify any three of them and the fourth can be calculated. Most commonly, you would want to calculate sample size, so you must specify the other three.

The minimum size of the effect that you want to detect in a statistical test ex. a 20% improvement
To distinguish between a .350 hitter and a .200 hitter in baseball, not that many at-bats are needed. However, distinguishing between a .300 hitter and a .280 hitter takes many more at-bats.

The statistical significance level at which the test will be conducted. This drives our type I error, the rate of false positives. The lower our significance level drops, the more samples we need.

The probability of detecting a given effect size with a given sample size. The key thing is that if we see something interesting, we want to make sure that we have enough power to conclude with high probability the the interesting result is actually statistically significant. This drives our type II error, the rate of false negatives. The more power we want, the bigger sample we need.


---
## Calculating sample size in Python 

```yaml
type: "FullSlide"
key: "b94f8b2f28"
```

`@part1`
```python

```


`@script`



---
## Calculating sample size

```yaml
type: "FullCodeSlide"
key: "e209e0c32d"
```

`@part1`
```python
import 
```


`@script`



---
## Let's answer this question in Python!

```yaml
type: "FinalSlide"
key: "87db49a5e8"
```

`@script`


